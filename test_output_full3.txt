00:00 +0: loading C:/Proyectos/DemoLife/integration_test/main_e2e_test.dart
Building Windows application...                                    22,4s
âˆš Built build\windows\x64\runner\Debug\asistapp.exe
00:00 +0: ğŸš€ FLUJO E2E TRANSACCIONAL - MICRO-UNIVERSO AISLADO

======================================================================
ğŸ¯ INICIANDO TEST E2E TRANSACCIONAL - MICRO-UNIVERSO AISLADO
   Timestamp Ãºnico: 93197360
   DÃ­a de hoy: Jueves (4)
   Hora actual: 19:06
   Horario a crear: 19:00 - 20:00

   ğŸ“¦ DATOS ÃšNICOS A CREAR:
   â€¢ InstituciÃ³n: Instituto 93197360
   â€¢ Admin: admin_93197360@test.com
   â€¢ Profesor: profe_93197360@test.com
   â€¢ Estudiante: estu_93197360@test.com
   â€¢ PerÃ­odo: Periodo 93197360
   â€¢ Materia: Materia 93197360
   â€¢ Grupo: Grupo 93197360

   âš ï¸ MODO ESTRICTO: Sin fallbacks al seed
======================================================================

AppConfig: No se pudo cargar .env: Instance of 'FileNotFoundError'
AppConfig: Rutas intentadas para .env (muestra hasta 30):
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\Debug\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
AppConfig: Usando configuraciÃ³n por defecto
  - API_BASE_URL: http://192.168.20.22:3000
  - ENVIRONMENT: development
  - Plataforma: windows

ğŸ“ FASE 1: GÃ‰NESIS (Super Admin crea InstituciÃ³n + Admin)

AuthService.login - URL: http://192.168.20.22:3000/auth/login
AuthService.login - Config Base URL: http://192.168.20.22:3000
ğŸ“¤ POST /auth/login
ğŸ“¡ HTTP 200 /auth/login
   Status: 200
   Body: {"success":true,"data":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjQ4MmE3ZGI1LTRkZTctNGVkZi05MDhlLTc2MDFiYTQ4ODYyNiIsInJvbCI6InN1cGVyX2FkbWluIiwiZW1haWwiOiJzdXBlcmFkbWluQGFzaXN0YXBwLmNvbSIsInRva2VuVmVyc2lvbiI6MSwiaWF0IjoxNzY0ODkzMjQxLCJleHAiOjE3NjQ5Nzk2NDF9.8ou4PqGNLnCTKsydD-qB0_kvTxAD6xud7j89ptAXcec","refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjQ4MmE3ZGI1LTRkZTctNGVkZi05MDhlLTc2MDFiYTQ4ODYyNiIsInJvbCI6InN1cGVyX2FkbWluIiwiZW1haWwiOiJzdXBlcmFkbWluQGFzaXN0YXBwLmNvbSIsInRva2VuVmVyc2lvbiI6MSwianRpIjoiMmU1OGQ5YmEtMjAwNy00MTdkLWE0ODctY2JhMTdhNzk5M2U4IiwiaWF0IjoxNzY0ODkzMjQxLCJleHAiOjE3NjU0OTgwNDF9.lzC-MpRJZh_ArxeHen7hjA-03DlynarYJAlwS1j-Y-s","expiresIn":24,"usuario":{"id":"482a7db5-4de7-4edf-908e-7601ba488626","nombres":"Super","apellidos":"Admin","rol":"super_admin","instituciones":[]}}}
========================================
ğŸ“¤ GET /auth/institutions
ğŸ“¡ HTTP 200 /auth/institutions
Super Admin: No requiere selecciÃ³n de instituciÃ³n (acceso global)
Login exitoso, AuthWrapper manejarÃ¡ la navegaciÃ³n
UserProvider: Iniciando carga de usuarios...
VersiÃ³n obtenida del pubspec: 1.0.11
GET /usuarios - Status: 200
InstitutionProvider: Iniciando carga de instituciones...
GET /instituciones - Status: 200
GET /instituciones - data[0]: {id: 7b41749d-a98a-4d4d-984f-e7de3a841250, nombre: Instituto 77774309, direccion: Calle Test 123, telefono: 555-77774309, email: test_77774309@test.edu, activa: true, createdAt: 2025-12-04T19:51:10.813Z, updatedAt: 2025-12-04T19:51:10.813Z}
InstitutionProvider: Estado cambiado a loaded
  âœ… [FASE 1] 1.1 Login Super Admin
Cargando instituciones con token: eyJhbGciOiJIUzI1NiIs...
InstitutionProvider: Iniciando carga de instituciones...
GET /instituciones - Status: 200
GET /instituciones - data[0]: {id: 7b41749d-a98a-4d4d-984f-e7de3a841250, nombre: Instituto 77774309, direccion: Calle Test 123, telefono: 555-77774309, email: test_77774309@test.edu, activa: true, createdAt: 2025-12-04T19:51:10.813Z, updatedAt: 2025-12-04T19:51:10.813Z}
InstitutionProvider: Estado cambiado a loaded
Instituciones cargadas: 5
Estado del provider: isLoading=false, hasError=false
  âœ… [FASE 1] 1.2 Navegar a Instituciones
    ğŸ“± [NOTIFICACIONES] Configurando notificaciones del micro-universo...
  âœ… [FASE 1] 1.3a SecciÃ³n Notificaciones visible
    ğŸ“± [NOTIFICACIONES] Encontrados 2 switches
    ğŸ“± [NOTIFICACIONES] Estado inicial switch notificaciones: false
  âœ… [FASE 1] 1.3b Activar notificaciones
    ğŸ“± [NOTIFICACIONES] Dropdowns encontrados: 2
  âœ… [FASE 1] 1.3c Seleccionar canal WhatsApp
  âœ… [FASE 1] 1.3d Seleccionar modo InstantÃ¡neo
    ğŸ“± [NOTIFICACIONES] Resumen configuraciÃ³n:
       â€¢ Activas: true
       â€¢ Canal: WHATSAPP
       â€¢ Modo: INSTANT
POST /instituciones - Status: 201
PUT http://192.168.20.22:3000/api/institutions/d21c812d-d5d7-4924-b72a-86a5d1c3fec2/notification-config - Status: 200
GET /instituciones/d21c812d-d5d7-4924-b72a-86a5d1c3fec2 - Status: 200
GET /instituciones/d21c812d-d5d7-4924-b72a-86a5d1c3fec2 - data: {id: d21c812d-d5d7-4924-b72a-86a5d1c3fec2, nombre: Instituto 93197360, direccion: Calle Test 123, telefono: 555-93197360, email: test_93197360@test.edu, activa: true, configuraciones: {notificacionesActivas: true, canalNotificacion: WHATSAPP, modoNotificacionAsistencia: INSTANT, horaDisparoNotificacion: null, umbralFaltas: 3}, createdAt: 2025-12-05T00:08:13.093Z, updatedAt: 2025-12-05T00:08:13.093Z}
InstitutionProvider: loadInstitutionById - fetched: Institution(id: d21c812d-d5d7-4924-b72a-86a5d1c3fec2, nombre: Instituto 93197360, activa: true)
  âœ… [FASE 1] 1.3 Crear InstituciÃ³n (Instituto 93197360)
Cargando usuarios (admin_institucion y super_admin) como super_admin...
UserProvider: Iniciando carga de usuarios...
GET /usuarios - Status: 200
01:47 +0: loading C:/Proyectos/DemoLife/integration_test/main_e2e_test.dart
AppLifecycleManager: App paused at 2025-12-04 19:08:24.660804
01:48 +0: ğŸš€ FLUJO E2E TRANSACCIONAL - MICRO-UNIVERSO AISLADO
  âœ… [FASE 1] 1.4 Navegar a gestiÃ³n de usuarios
    ğŸ“ [DEBUG] Iniciando creaciÃ³n de Admin InstituciÃ³n...
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
    ğŸ“ [DEBUG] SpeedDial tapado: true
    ğŸ“ [STEP 1] InformaciÃ³n de Cuenta
    ğŸ“ [STEP 1] TextFormFields encontrados: 6
    ğŸ“ [STEP 1] Campo email encontrado, llenando: admin_93197360@test.com
    ğŸ“ [STEP 1] Seleccionando instituciÃ³n: Instituto 93197360
       ğŸ“¦ [selectInstitutionFromModal] Iniciando para: Instituto 93197360
       ğŸ“¦ [selectInstitutionFromModal] Campo instituciÃ³n encontrado, haciendo tap...
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
       ğŸ“¦ [selectInstitutionFromModal] BottomSheets encontrados: 1
       ğŸ“¦ [selectInstitutionFromModal] CheckboxListTiles encontrados: 5
       ğŸ“¦ [selectInstitutionFromModal] Textos que contienen "Instituto 93197360": 1
       ğŸ“¦ [selectInstitutionFromModal] Encontrado! Haciendo tap...
       ğŸ“¦ [selectInstitutionFromModal] Botones "Confirmar selecciÃ³n": 1
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
       âœ… [selectInstitutionFromModal] Confirmado!
    ğŸ“ [STEP 1] InstituciÃ³n seleccionada: true
    ğŸ“ [STEP 1] Avanzando a Step 2...
    ğŸ“ [STEP 1] Botones formSaveButton encontrados: 2
ğŸ”” _onStepContinue CALLED! currentStep=0
ğŸ”” totalSteps=2
ğŸ”” stepState for step 0: FormState#61d97
ğŸ”” validation result: true
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
    ğŸ“ [STEP 2] InformaciÃ³n Personal
    ğŸ“ [STEP 2] TextFormFields ahora: 6
    ğŸ“ [STEP 2] Step widgets encontrados: 0
    ğŸ“ [STEP 2] Textos "Info Personal" encontrados: 1
    ğŸ“ [STEP 2] Campo nombres encontrado: true
    ğŸ“ [STEP 2] Campo apellidos encontrado: true
    ğŸ“ [STEP 2] Campo nombres encontrado por Key
    ğŸ“ [STEP 2] Texto ingresado en nombres: Admin 93197360
    ğŸ“ [STEP 2] Campo apellidos encontrado por Key
    ğŸ“ [STEP 2] Texto ingresado en apellidos: TestApellido
    ğŸ“ [STEP 2] Datos personales llenados
    ğŸ“ [STEP 2] Buscando botÃ³n de guardar (Crear)...
    ğŸ“ [STEP 2] Botones con texto "Crear" encontrados: 2
ğŸ”” _onStepContinue CALLED! currentStep=1
ğŸ”” totalSteps=2
ğŸ”” stepState for step 1: FormState#23ceb
ğŸ”” validation result: true
    ğŸ“ [STEP 2] BotÃ³n "Crear" tapado (usando last), esperando respuesta del servidor...
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
POST /usuarios - Status: 201
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
    ğŸ“ [STEP 2] Textos "ContraseÃ±a" encontrados: 1
    ğŸ”‘ ContraseÃ±a capturada exitosamente: ^^Y9u^jDODi#
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
  âœ… [FASE 1] 1.5 Crear Admin InstituciÃ³n (admin_93197360@test.com)
ğŸ“¤ POST /auth/logout
ğŸ“¡ HTTP 404 /auth/logout
AppConfig: No se pudo cargar .env: Instance of 'FileNotFoundError'
AppConfig: Rutas intentadas para .env (muestra hasta 30):
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\Debug\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
AppConfig: Usando configuraciÃ³n por defecto
  - API_BASE_URL: http://192.168.20.22:3000
  - ENVIRONMENT: development
  - Plataforma: windows
  âœ… [FASE 1] 1.6 Logout Super Admin

ğŸ“ FASE 2: ESTRUCTURA (Admin crea PerÃ­odo, Materia, Profesor, Estudiante, Grupo, Horario)

AuthService.login - URL: http://192.168.20.22:3000/auth/login
AuthService.login - Config Base URL: http://192.168.20.22:3000
ğŸ“¤ POST /auth/login
ğŸ“¡ HTTP 200 /auth/login
   Status: 200
   Body: {"success":true,"data":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Ijg2MTI4YmE2LTcxZmUtNGM1OS1iMGMxLTA3NjFmNGUxNThhMiIsInJvbCI6ImFkbWluX2luc3RpdHVjaW9uIiwiZW1haWwiOiJhZG1pbl85MzE5NzM2MEB0ZXN0LmNvbSIsInRva2VuVmVyc2lvbiI6MSwiaWF0IjoxNzY0ODkzMzUyLCJleHAiOjE3NjQ5Nzk3NTJ9.bdooBIXUHzrGm2jFZUt5-VrKMx1u9cvXjfBXrwkfVXI","refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Ijg2MTI4YmE2LTcxZmUtNGM1OS1iMGMxLTA3NjFmNGUxNThhMiIsInJvbCI6ImFkbWluX2luc3RpdHVjaW9uIiwiZW1haWwiOiJhZG1pbl85MzE5NzM2MEB0ZXN0LmNvbSIsInRva2VuVmVyc2lvbiI6MSwianRpIjoiNmU3ZjU3NGEtZGVmMC00Njg3LWIxOGUtZDQwY2EyMmJkYzhlIiwiaWF0IjoxNzY0ODkzMzUyLCJleHAiOjE3NjU0OTgxNTJ9.mEYPFjEo3QN-Aa5h-t-2LngSv8W_2tKb0CKqKsnqmak","expiresIn":24,"usuario":{"id":"86128ba6-71fe-4c59-b0c1-0761f4e158a2","nombres":"Admin 93197360","apellidos":"TestApellido","rol":"admin_institucion","instituciones":[{"id":"d21c812d-d5d7-4924-b72a-86a5d1c3fec2","nombre":"Instituto 93197360","rolEnInstitucion":"admin"}]}}}
========================================
ğŸ“¤ GET /auth/institutions
ğŸ“¡ HTTP 200 /auth/institutions
InstituciÃ³n seleccionada automÃ¡ticamente: d21c812d-d5d7-4924-b72a-86a5d1c3fec2
Login exitoso, AuthWrapper manejarÃ¡ la navegaciÃ³n
UserProvider: Iniciando carga de usuarios por instituciÃ³n d21c812d-d5d7-4924-b72a-86a5d1c3fec2...
VersiÃ³n obtenida del pubspec: 1.0.11
GET /usuarios/institucion/d21c812d-d5d7-4924-b72a-86a5d1c3fec2 - Status: 200
  âœ… [FASE 2] 2.1 Login Admin (admin_93197360@test.com)
  âœ… [FASE 2] 2.2 Dashboard Admin visible
  âœ… [FASE 2] 2.3 Crear PerÃ­odo (Usando perÃ­odos existentes)
  âœ… [FASE 2] 2.4 Crear Materia (Usando materias existentes)
Cargando usuarios para la instituciÃ³n: d21c812d-d5d7-4924-b72a-86a5d1c3fec2
UserProvider: Iniciando carga de usuarios por instituciÃ³n d21c812d-d5d7-4924-b72a-86a5d1c3fec2...
GET /usuarios/institucion/d21c812d-d5d7-4924-b72a-86a5d1c3fec2 - Status: 200
    ğŸ“ [DEBUG] Iniciando creaciÃ³n de Profesor...
UserFormScreen: sessionRole=admin_institucion, userRole=profesor, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=admin_institucion, userRole=profesor, isSelfEditing=false, canEditInstitutions=true
    ğŸ“ [DEBUG] SpeedDial tapado: true
    ğŸ“ [PROF STEP 1] InformaciÃ³n de Cuenta
    ğŸ“ [PROF STEP 1] Total TextFormFields: 7
    ğŸ“ [PROF STEP 1] Textos con "requerido" visibles: 0
    ğŸ“ [PROF STEP 1] Campo email encontrado, llenando: profe_93197360@test.com
    ğŸ“ [PROF STEP 1] Avanzando a Step 2...
    ğŸ“ [PROF STEP 1] Total ElevatedButtons: 3
       ElevatedButton[0]: "Siguiente", onPressed=enabled
       ElevatedButton[1]: "Siguiente", onPressed=enabled
       ElevatedButton[2]: "Siguiente", onPressed=enabled
    ğŸ“ [PROF STEP 1] Botones habilitados: 3, primer habilitado en Ã­ndice: 0
ğŸ”” _onStepContinue CALLED! currentStep=0
ğŸ”” totalSteps=3
ğŸ”” stepState for step 0: FormState#f21cf
ğŸ”” validation result: true
UserFormScreen: sessionRole=admin_institucion, userRole=profesor, isSelfEditing=false, canEditInstitutions=true
    ğŸ“ [PROF STEP 1 AFTER TAP] Siguiente: 3, Crear: 0
    ğŸ“ [PROF STEP 2] InformaciÃ³n Personal
    ğŸ“ [PROF STEP 2] CustomTextFormField Nombres: 1
    ğŸ“ [PROF STEP 2] CustomTextFormField Apellidos: 1
    ğŸ“ [PROF STEP 2] TextField Nombres: 1
    ğŸ“ [PROF STEP 2] TextField Apellidos: 1
    ğŸ“ [PROF STEP 2] Scroll + Tap en Nombres...
    ğŸ“ [PROF STEP 2] enterText: Profesor 93197360
    ğŸ“ [PROF STEP 2] Texto en EditableText Nombres: "Profesor 93197360"
    ğŸ“ [PROF STEP 2] Scroll + Tap en Apellidos...
    ğŸ“ [PROF STEP 2] enterText: TestProf
    ğŸ“ [PROF STEP 2] Texto en EditableText Apellidos: "TestProf"
    ğŸ“ [PROF STEP 2] Campo IdentificaciÃ³n encontrado por Key
    ğŸ“ [PROF STEP 2] enterText IdentificaciÃ³n: DOC93197360
    ğŸ“ [PROF STEP 2] Datos ingresados (nombres, apellidos, identificaciÃ³n)
    ğŸ“ [PROF STEP 2] Avanzando a Step 3...
    ğŸ“ [PROF STEP 2] Botones Siguiente: 3, Crear: 0
ğŸ”” _onStepContinue CALLED! currentStep=1
ğŸ”” totalSteps=3
ğŸ”” stepState for step 1: FormState#13e13
ğŸ”” validation result: true
UserFormScreen: sessionRole=admin_institucion, userRole=profesor, isSelfEditing=false, canEditInstitutions=true
    ğŸ“ [PROF STEP 3] Datos AcadÃ©micos
    ğŸ“ [PROF STEP 3] TextFormFields totales: 7
    ğŸ“ [PROF STEP 3] Campo tÃ­tulo: 1
    ğŸ“ [PROF STEP 3] Campo especialidad: 1
    ğŸ“ [PROF STEP 3] Buscando botÃ³n para guardar...
    ğŸ“ [PROF STEP 3] Total ElevatedButtons: 3
       ElevatedButton[0]: "Crear"
       ElevatedButton[1]: "Crear"
       ElevatedButton[2]: "Crear"
    ğŸ“ [PROF STEP 3] Botones "Crear": 3, "Siguiente": 0
ğŸ”” _onStepContinue CALLED! currentStep=2
ğŸ”” totalSteps=3
ğŸ”” stepState for step 2: FormState#ebdf9
ğŸ”” validation result: true
    ğŸ“ [PROF STEP 3] BotÃ³n "Crear" tapado, esperando...
UserFormScreen: sessionRole=admin_institucion, userRole=profesor, isSelfEditing=false, canEditInstitutions=true
POST /usuarios - Status: 201
UserFormScreen: sessionRole=admin_institucion, userRole=profesor, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=admin_institucion, userRole=profesor, isSelfEditing=false, canEditInstitutions=true
    ğŸ”‘ ContraseÃ±a capturada exitosamente: s!Hzy)Al4Ali
UserFormScreen: sessionRole=admin_institucion, userRole=profesor, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=admin_institucion, userRole=profesor, isSelfEditing=false, canEditInstitutions=true
  âœ… [FASE 2] 2.5 Crear Profesor (profe_93197360@test.com)
    ğŸ“ [DEBUG] Iniciando creaciÃ³n de Estudiante...
UserFormScreen: sessionRole=admin_institucion, userRole=estudiante, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=admin_institucion, userRole=estudiante, isSelfEditing=false, canEditInstitutions=true
    ğŸ“ [DEBUG] SpeedDial tapado: true
    ğŸ“ [EST STEP 1] InformaciÃ³n de Cuenta
    ğŸ“ [EST STEP 1] Campo email encontrado, llenando: estu_93197360@test.com
    ğŸ“ [EST STEP 1] Avanzando a Step 2...
    ğŸ“ [EST STEP 1] Botones formSaveButton: 3
ğŸ”” _onStepContinue CALLED! currentStep=0
ğŸ”” totalSteps=3
ğŸ”” stepState for step 0: FormState#7174d
ğŸ”” validation result: true
UserFormScreen: sessionRole=admin_institucion, userRole=estudiante, isSelfEditing=false, canEditInstitutions=true
    ğŸ“ [EST STEP 2] InformaciÃ³n Personal
    ğŸ“ [EST STEP 2] Campo nombres: true
    ğŸ“ [EST STEP 2] Campo apellidos: true
    ğŸ“ [EST STEP 2] enterText Nombres: Estudiante 93197360
    ğŸ“ [EST STEP 2] enterText Apellidos: TestEst
    ğŸ“ [EST STEP 2] Campo IdentificaciÃ³n encontrado
    ğŸ“ [EST STEP 2] enterText IdentificaciÃ³n: EST93197360
    ğŸ“ [EST STEP 2] Avanzando a Step 3...
    ğŸ“ [EST STEP 2] Botones Siguiente: 3
ğŸ”” _onStepContinue CALLED! currentStep=1
ğŸ”” totalSteps=3
ğŸ”” stepState for step 1: FormState#d1287
ğŸ”” validation result: true
UserFormScreen: sessionRole=admin_institucion, userRole=estudiante, isSelfEditing=false, canEditInstitutions=true
    ğŸ“ [EST STEP 3] Datos del Responsable (opcionales)
    ğŸ“ [EST STEP 3] Campo responsable: 1
    ğŸ“ [EST STEP 3] Campo telÃ©fono: 1
    ğŸ“± [NOTIF] TelÃ©fono WhatsApp configurado: +573103816321
    ğŸ“ [EST STEP 3] Buscando botÃ³n "Crear"...
    ğŸ“ [EST STEP 3] Botones "Crear": 3
ğŸ”” _onStepContinue CALLED! currentStep=2
ğŸ”” totalSteps=3
ğŸ”” stepState for step 2: FormState#0b4e6
ğŸ”” validation result: true
    ğŸ“ [EST STEP 3] BotÃ³n "Crear" tapado, esperando...
UserFormScreen: sessionRole=admin_institucion, userRole=estudiante, isSelfEditing=false, canEditInstitutions=true
POST /usuarios - Status: 201
UserFormScreen: sessionRole=admin_institucion, userRole=estudiante, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=admin_institucion, userRole=estudiante, isSelfEditing=false, canEditInstitutions=true
    ğŸ”‘ ContraseÃ±a capturada exitosamente: l5e)j!a*sVV6
UserFormScreen: sessionRole=admin_institucion, userRole=estudiante, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=admin_institucion, userRole=estudiante, isSelfEditing=false, canEditInstitutions=true
  âœ… [FASE 2] 2.6 Crear Estudiante (estu_93197360@test.com)
  âœ… [FASE 2] 2.7 Crear Grupo (Usando grupos existentes)
  âœ… [FASE 2] 2.8 Acceder a Horarios (SecciÃ³n disponible)
    ğŸ“± [NOTIFICACIONES] Verificando configuraciÃ³n guardada...
  âœ… [FASE 2] 2.9 Verificar config notificaciones (Switch: âœ“, WhatsApp: âœ—, Instant: âœ—)
UserProvider: Iniciando carga de usuarios por instituciÃ³n d21c812d-d5d7-4924-b72a-86a5d1c3fec2...
GET /usuarios/institucion/d21c812d-d5d7-4924-b72a-86a5d1c3fec2 - Status: 200
ğŸ“¤ POST /auth/logout
ğŸ“¡ HTTP 404 /auth/logout
AppConfig: No se pudo cargar .env: Instance of 'FileNotFoundError'
AppConfig: Rutas intentadas para .env (muestra hasta 30):
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\Debug\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
AppConfig: Usando configuraciÃ³n por defecto
  - API_BASE_URL: http://192.168.20.22:3000
  - ENVIRONMENT: development
  - Plataforma: windows
  âœ… [FASE 2] 2.10 Logout Admin

ğŸ“ FASE 3: OPERACIÃ“N (Toma de asistencia para disparar notificaciones)


  ğŸ“¡ SUB-FASE 3.A: Toma de asistencia vÃ­a API

  âœ… [FASE 3] 3.A.1 Login Admin vÃ­a API (admin_93197360@test.com)
    ğŸ“‹ Estudiante encontrado: estu_93197360@test.com (ID: 995c198b-d544-4b03-89fc-ed80669c784e)
  âœ… [FASE 3] 3.A.2 Obtener estudiantes (995c198b-d544-4b03-89fc-ed80669c784e)
    ğŸ“¡ Obteniendo/creando datos para horario...
    ğŸ“¡ Creando perÃ­odo vÃ­a API...
    âœ… PerÃ­odo creado: ID 2e96ae46-bee0-4e06-bf8e-6508c4ea82d3
    ğŸ“¡ Creando materia vÃ­a API...
    âœ… Materia creada: ID a7e028de-67ab-42f0-86df-e44b78fa9a50
    ğŸ“¡ Creando grupo vÃ­a API...
    âœ… Grupo creado: ID 6f0b690e-6fde-4d9b-b65d-ead6759df5bf
    ğŸ“¡ Asignando estudiante al grupo...
    âœ… Estudiante asignado al grupo
    ğŸ‘¨â€ğŸ« Profesor encontrado: profe_93197360@test.com (ID: a21362ce-3eab-4352-b643-c0097dcf34e5)
    ğŸ“¡ Creando horario vÃ­a API (no existen horarios)...
       â€¢ Payload: {periodoId: 2e96ae46-bee0-4e06-bf8e-6508c4ea82d3, grupoId: 6f0b690e-6fde-4d9b-b65d-ead6759df5bf, materiaId: a7e028de-67ab-42f0-86df-e44b78fa9a50, profesorId: a21362ce-3eab-4352-b643-c0097dcf34e5, diaSemana: 4, horaInicio: 19:00, horaFin: 20:00}
    âœ… Horario creado: ID de97e12a-6c85-4871-9116-151fcb53dfd5
  âœ… [FASE 3] 3.A.3 Obtener/Crear horarios (de97e12a-6c85-4871-9116-151fcb53dfd5)
    ğŸ“¡ Registrando asistencia vÃ­a API...
       â€¢ Estudiante ID: 995c198b-d544-4b03-89fc-ed80669c784e
       â€¢ Horario ID: de97e12a-6c85-4871-9116-151fcb53dfd5
       â€¢ Fecha: 2025-12-04
    âœ… Asistencia registrada exitosamente
    ğŸ“± NotificaciÃ³n WhatsApp deberÃ­a haberse disparado (modo INSTANT)
  âœ… [FASE 3] 3.A.4 Registrar asistencia vÃ­a API (AUSENTE registrado - NotificaciÃ³n disparada)
    â³ Esperando 5 segundos para que se procese la notificaciÃ³n...
  âœ… [FASE 3] 3.A.5 Espera de notificaciÃ³n (Canal: WHATSAPP, Modo: INSTANT)

  ğŸ–¥ï¸ SUB-FASE 3.B: VerificaciÃ³n vÃ­a UI del profesor

AuthService.login - URL: http://192.168.20.22:3000/auth/login
AuthService.login - Config Base URL: http://192.168.20.22:3000
ğŸ“¤ POST /auth/login
ğŸ“¡ HTTP 200 /auth/login
   Status: 200
   Body: {"success":true,"data":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImEyMTM2MmNlLTNlYWItNDM1Mi1iNjQzLWMwMDk3ZGNmMzRlNSIsInJvbCI6InByb2Zlc29yIiwiZW1haWwiOiJwcm9mZV85MzE5NzM2MEB0ZXN0LmNvbSIsInRva2VuVmVyc2lvbiI6MSwiaWF0IjoxNzY0ODkzNDg2LCJleHAiOjE3NjQ5Nzk4ODZ9.6J_2l_xYdTCfG76gKtqIr7iP4NBTv9N9xh3JCXopi8M","refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImEyMTM2MmNlLTNlYWItNDM1Mi1iNjQzLWMwMDk3ZGNmMzRlNSIsInJvbCI6InByb2Zlc29yIiwiZW1haWwiOiJwcm9mZV85MzE5NzM2MEB0ZXN0LmNvbSIsInRva2VuVmVyc2lvbiI6MSwianRpIjoiZDE4ZWUzZDgtMTRkMS00MzBkLWFkMWMtOTM5MGE1YTEzNDFjIiwiaWF0IjoxNzY0ODkzNDg2LCJleHAiOjE3NjU0OTgyODZ9.C1fQPpBWI5mnFyonByu4EWtOED9TxIMnJs42hHI4W8o","expiresIn":24,"usuario":{"id":"a21362ce-3eab-4352-b643-c0097dcf34e5","nombres":"Profesor 93197360","apellidos":"TestProf","rol":"profesor","instituciones":[{"id":"d21c812d-d5d7-4924-b72a-86a5d1c3fec2","nombre":"Instituto 93197360","rolEnInstitucion":"member"}]}}}
========================================
ğŸ“¤ GET /auth/institutions
ğŸ“¡ HTTP 200 /auth/institutions
InstituciÃ³n seleccionada automÃ¡ticamente: d21c812d-d5d7-4924-b72a-86a5d1c3fec2
Login exitoso, AuthWrapper manejarÃ¡ la navegaciÃ³n
HorarioProvider: Cargando clases del dÃ­a para el profesor...
VersiÃ³n obtenida del pubspec: 1.0.11
GET /profesores/dashboard/clases-hoy - Status: 200
HorarioProvider: Recibidas 0 clases del dÃ­a
  âœ… [FASE 3] 3.B.1 Login Profesor (profe_93197360@test.com)
  âœ… [FASE 3] 3.B.2 Profesor ve dashboard con clases
  âœ… [FASE 3] 3.B.3 Entrar a gestiÃ³n de asistencia (Ya registrada vÃ­a API)
  âœ… [FASE 3] 3.B.4 GestiÃ³n de asistencia (Dashboard visible)

    ğŸ“± RESUMEN NOTIFICACIONES:
       â€¢ Asistencia registrada: âœ…
       â€¢ Canal configurado: WHATSAPP
       â€¢ Modo configurado: INSTANT
       â€¢ TelÃ©fono destino: +573103816321
       â€¢ NotificaciÃ³n esperada: SÃ (revisar logs backend)
  âœ… [FASE 3] 3.B.5 NotificaciÃ³n WhatsApp (Disparada a +573103816321)
ğŸ“¤ POST /auth/logout
ğŸ“¡ HTTP 404 /auth/logout
AppConfig: No se pudo cargar .env: Instance of 'FileNotFoundError'
AppConfig: Rutas intentadas para .env (muestra hasta 30):
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\Debug\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
AppConfig: Usando configuraciÃ³n por defecto
  - API_BASE_URL: http://192.168.20.22:3000
  - ENVIRONMENT: development
  - Plataforma: windows
  âœ… [FASE 3] 3.B.6 Logout Profesor

ğŸ“ FASE 4: CONSUMO (Estudiante verifica asistencia)

AuthService.login - URL: http://192.168.20.22:3000/auth/login
AuthService.login - Config Base URL: http://192.168.20.22:3000
ğŸ“¤ POST /auth/login
ğŸ“¡ HTTP 200 /auth/login
   Status: 200
   Body: {"success":true,"data":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYyZGRjZDdlLTZlOGUtNGEzOS05ZGRlLTQ2YjVhMjZjNmE0OCIsInJvbCI6ImVzdHVkaWFudGUiLCJlbWFpbCI6ImVzdHVfOTMxOTczNjBAdGVzdC5jb20iLCJ0b2tlblZlcnNpb24iOjEsImlhdCI6MTc2NDg5MzUyNiwiZXhwIjoxNzY0OTc5OTI2fQ.bot42DHUC0MbMUkZV5MWQCg-tyAPmmjuTqHN0YuwTGE","refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYyZGRjZDdlLTZlOGUtNGEzOS05ZGRlLTQ2YjVhMjZjNmE0OCIsInJvbCI6ImVzdHVkaWFudGUiLCJlbWFpbCI6ImVzdHVfOTMxOTczNjBAdGVzdC5jb20iLCJ0b2tlblZlcnNpb24iOjEsImp0aSI6IjkwZDZiOTEyLTU0YTYtNGQ1OS04NWUwLTIxNmNlMjFjMDc2YSIsImlhdCI6MTc2NDg5MzUyNiwiZXhwIjoxNzY1NDk4MzI2fQ.Q2JOYPCYt-vsLBMocMzubza0MMbAS_vsdZqdCMg3AF0","expiresIn":24,"usuario":{"id":"62ddcd7e-6e8e-4a39-9dde-46b5a26c6a48","nombres":"Estudiante 93197360","apellidos":"TestEst","rol":"estudiante","instituciones":[{"id":"d21c812d-d5d7-4924-b72a-86a5d1c3fec2","nombre":"Instituto 93197360","rolEnInstitucion":"member"}]}}}
========================================
ğŸ“¤ GET /auth/institutions
ğŸ“¡ HTTP 200 /auth/institutions
InstituciÃ³n seleccionada automÃ¡ticamente: d21c812d-d5d7-4924-b72a-86a5d1c3fec2
Login exitoso, AuthWrapper manejarÃ¡ la navegaciÃ³n
VersiÃ³n obtenida del pubspec: 1.0.11
  âœ… [FASE 4] 4.1 Login Estudiante (estu_93197360@test.com)
  âœ… [FASE 4] 4.2 Estudiante ve su dashboard
GET /estudiantes/me - Status: 200
  âœ… [FASE 4] 4.3 Estudiante ve su cÃ³digo QR
  âœ… [FASE 4] 4.4 Estudiante ve historial de asistencia (Materia: âœ—, Presente: âœ“)
    ğŸ“± [NOTIFICACIONES] Verificando secciÃ³n de notificaciones del estudiante...
  âœ… [FASE 4] 4.5 Verificar secciÃ³n notificaciones (NotificaciÃ³n de asistencia visible)
  âœ… [FASE 4] 4.6 Preferencias de notificaciÃ³n estudiante (Preferencias accesibles)
ğŸ“¤ POST /auth/logout
ğŸ“¡ HTTP 404 /auth/logout
AppConfig: No se pudo cargar .env: Instance of 'FileNotFoundError'
AppConfig: Rutas intentadas para .env (muestra hasta 30):
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\Debug\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
AppConfig: Usando configuraciÃ³n por defecto
  - API_BASE_URL: http://192.168.20.22:3000
  - ENVIRONMENT: development
  - Plataforma: windows
  âœ… [FASE 4] 4.7 Logout Estudiante

ğŸ“ FASE 5: PRUEBA ADICIONAL - MODO MANUAL

AuthService.login - URL: http://192.168.20.22:3000/auth/login
AuthService.login - Config Base URL: http://192.168.20.22:3000
ğŸ“¤ POST /auth/login
ğŸ“¡ HTTP 200 /auth/login
   Status: 200
   Body: {"success":true,"data":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Ijg2MTI4YmE2LTcxZmUtNGM1OS1iMGMxLTA3NjFmNGUxNThhMiIsInJvbCI6ImFkbWluX2luc3RpdHVjaW9uIiwiZW1haWwiOiJhZG1pbl85MzE5NzM2MEB0ZXN0LmNvbSIsInRva2VuVmVyc2lvbiI6MSwiaWF0IjoxNzY0ODkzNjA1LCJleHAiOjE3NjQ5ODAwMDV9.rfYGrvD9XRicrQ6nBTpXqfgHqgE5EA8BqTWs4LcXc2w","refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6Ijg2MTI4YmE2LTcxZmUtNGM1OS1iMGMxLTA3NjFmNGUxNThhMiIsInJvbCI6ImFkbWluX2luc3RpdHVjaW9uIiwiZW1haWwiOiJhZG1pbl85MzE5NzM2MEB0ZXN0LmNvbSIsInRva2VuVmVyc2lvbiI6MSwianRpIjoiMGE3Y2U5ZjktZjY1NC00NzE1LThkNzktMWRiY2ZlNzA2ZDI4IiwiaWF0IjoxNzY0ODkzNjA1LCJleHAiOjE3NjU0OTg0MDV9.agbuE7-tugut8GRld_ny0MO-3mSs-g6D8xeCON_hBOw","expiresIn":24,"usuario":{"id":"86128ba6-71fe-4c59-b0c1-0761f4e158a2","nombres":"Admin 93197360","apellidos":"TestApellido","rol":"admin_institucion","instituciones":[{"id":"d21c812d-d5d7-4924-b72a-86a5d1c3fec2","nombre":"Instituto 93197360","rolEnInstitucion":"admin"}]}}}
========================================
ğŸ“¤ GET /auth/institutions
ğŸ“¡ HTTP 200 /auth/institutions
InstituciÃ³n seleccionada automÃ¡ticamente: d21c812d-d5d7-4924-b72a-86a5d1c3fec2
Login exitoso, AuthWrapper manejarÃ¡ la navegaciÃ³n
UserProvider: Iniciando carga de usuarios por instituciÃ³n d21c812d-d5d7-4924-b72a-86a5d1c3fec2...
VersiÃ³n obtenida del pubspec: 1.0.11
GET /usuarios/institucion/d21c812d-d5d7-4924-b72a-86a5d1c3fec2 - Status: 200
  âœ… [FASE 5] 5.1 Login Admin para configurar MANUAL (admin_93197360@test.com)
  âœ… [FASE 5] 5.1c Actualizar config via API (MANUAL_ONLY)
ğŸ“¤ POST /auth/logout
ğŸ“¡ HTTP 404 /auth/logout
AppConfig: No se pudo cargar .env: Instance of 'FileNotFoundError'
AppConfig: Rutas intentadas para .env (muestra hasta 30):
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\Debug\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
AppConfig: Usando configuraciÃ³n por defecto
  - API_BASE_URL: http://192.168.20.22:3000
  - ENVIRONMENT: development
  - Plataforma: windows
  âœ… [FASE 5] 5.1e Logout Admin
    ğŸ“¡ Registrando asistencia vÃ­a API (MANUAL_ONLY)...
    âš ï¸ API POST /asistencias/registrar-manual: 400 - {"success":false,"message":"El estudiante ya tiene registrada su asistencia para esta clase hoy","error":"ValidationError"}
    âš ï¸ Error al registrar asistencia vÃ­a API (MANUAL_ONLY)
AuthService.login - URL: http://192.168.20.22:3000/auth/login
AuthService.login - Config Base URL: http://192.168.20.22:3000
ğŸ“¤ POST /auth/login
ğŸ“¡ HTTP 200 /auth/login
   Status: 200
   Body: {"success":true,"data":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImEyMTM2MmNlLTNlYWItNDM1Mi1iNjQzLWMwMDk3ZGNmMzRlNSIsInJvbCI6InByb2Zlc29yIiwiZW1haWwiOiJwcm9mZV85MzE5NzM2MEB0ZXN0LmNvbSIsInRva2VuVmVyc2lvbiI6MSwiaWF0IjoxNzY0ODkzNjQzLCJleHAiOjE3NjQ5ODAwNDN9.y-UFqtGmh4S1eJiGFtIHmi4pWPvB2NC5OrMlFFs5lic","refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImEyMTM2MmNlLTNlYWItNDM1Mi1iNjQzLWMwMDk3ZGNmMzRlNSIsInJvbCI6InByb2Zlc29yIiwiZW1haWwiOiJwcm9mZV85MzE5NzM2MEB0ZXN0LmNvbSIsInRva2VuVmVyc2lvbiI6MSwianRpIjoiY2VkNTA0N2ItMTgwNi00N2FmLWJlYTktZmJmNjhkZDYxMjFhIiwiaWF0IjoxNzY0ODkzNjQzLCJleHAiOjE3NjU0OTg0NDN9.szJlGyWcPjc_ttnT5PVWXb-WsgH1pDhvxXpEBbvALWs","expiresIn":24,"usuario":{"id":"a21362ce-3eab-4352-b643-c0097dcf34e5","nombres":"Profesor 93197360","apellidos":"TestProf","rol":"profesor","instituciones":[{"id":"d21c812d-d5d7-4924-b72a-86a5d1c3fec2","nombre":"Instituto 93197360","rolEnInstitucion":"member"}]}}}
========================================
ğŸ“¤ GET /auth/institutions
ğŸ“¡ HTTP 200 /auth/institutions
InstituciÃ³n seleccionada automÃ¡ticamente: d21c812d-d5d7-4924-b72a-86a5d1c3fec2
Login exitoso, AuthWrapper manejarÃ¡ la navegaciÃ³n
HorarioProvider: Cargando clases del dÃ­a para el profesor...
VersiÃ³n obtenida del pubspec: 1.0.11
GET /profesores/dashboard/clases-hoy - Status: 200
HorarioProvider: Recibidas 0 clases del dÃ­a
  âœ… [FASE 5] 5.3 Login Profesor para enviar manualmente (profe_93197360@test.com)
    ğŸ” [MANUAL] Buscando clase por materia: Materia Test 93197360
    ğŸ” [MANUAL] O por grupo: 1 A
    âš ï¸ [MANUAL] No se encontrÃ³ la clase ni por materia ni por grupo
    ğŸ” [MANUAL] Buscando botÃ³n de notificaciÃ³n manual...
    ğŸ“Š [MANUAL] BotÃ³n por tooltip: 0, por icono: 0
    âš ï¸ [MANUAL] BotÃ³n no encontrado. Entramos a clase: false
    ğŸ“‹ [MANUAL] Textos visibles: Materia âœ—, Grupo âœ—
  âŒ [FASE 5] 5.3 Ver botÃ³n manual visible (BotÃ³n not found (entered: false))
ğŸ“¤ POST /auth/logout
ğŸ“¡ HTTP 404 /auth/logout
AppConfig: No se pudo cargar .env: Instance of 'FileNotFoundError'
AppConfig: Rutas intentadas para .env (muestra hasta 30):
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\Debug\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
AppConfig: Usando configuraciÃ³n por defecto
  - API_BASE_URL: http://192.168.20.22:3000
  - ENVIRONMENT: development
  - Plataforma: windows
  âœ… [FASE 5] 5.3e Logout Profesor
  âœ… [FASE 5] 5.4 Obtener token admin para verificar logs
    ğŸ“‹ [MANUAL] Logs response: OK
    ğŸ“‹ [MANUAL] Encontrados 0 logs de notificaciÃ³n
  âŒ [FASE 5] 5.4 Verificar recepciÃ³n manual (API logs) (No hay log exitoso)

======================================================================
ğŸ“Š RESUMEN DEL TEST E2E - MICRO-UNIVERSO AISLADO
======================================================================
   Total de pasos: 46
   âœ… Pasados: 44
   âŒ Fallidos: 2
   ğŸ“ˆ Porcentaje: 95.7%

ğŸ” CREDENCIALES CAPTURADAS:
   â€¢ admin: ^^Y***
   â€¢ profesor: s!H***
   â€¢ estudiante: l5e***

ğŸ“¦ DATOS CREADOS:
   â€¢ notificaciones_activas: true
   â€¢ canal_notificacion: WHATSAPP
   â€¢ modo_notificacion: MANUAL_ONLY
   â€¢ institucion: Instituto 93197360
   â€¢ admin_email: admin_93197360@test.com
   â€¢ admin_password: ***capturada***
   â€¢ profesor_email: profe_93197360@test.com
   â€¢ telefono_responsable: +573103816321
   â€¢ estudiante_email: estu_93197360@test.com
   â€¢ materia_nombre_real: Materia Test 93197360
   â€¢ grupo_nombre_completo: 1 A
   â€¢ asistencia_tomada: true
   â€¢ asistencia_id: created
   â€¢ notificacion_disparada: true

ğŸ“± RESUMEN DE NOTIFICACIONES:
   â€¢ Notificaciones: âœ… Activas
   â€¢ Canal: WHATSAPP
   â€¢ Modo: MANUAL_ONLY
   â€¢ Disparo: âœ… Verificado

ğŸ“‹ Detalle de resultados:
   âœ… [FASE 1] 1.1 Login Super Admin
   âœ… [FASE 1] 1.2 Navegar a Instituciones
   âœ… [FASE 1] 1.3a SecciÃ³n Notificaciones visible
   âœ… [FASE 1] 1.3b Activar notificaciones
   âœ… [FASE 1] 1.3c Seleccionar canal WhatsApp
   âœ… [FASE 1] 1.3d Seleccionar modo InstantÃ¡neo
   âœ… [FASE 1] 1.3 Crear InstituciÃ³n (Instituto 93197360)
   âœ… [FASE 1] 1.4 Navegar a gestiÃ³n de usuarios
   âœ… [FASE 1] 1.5 Crear Admin InstituciÃ³n (admin_93197360@test.com)
   âœ… [FASE 1] 1.6 Logout Super Admin
   âœ… [FASE 2] 2.1 Login Admin (admin_93197360@test.com)
   âœ… [FASE 2] 2.2 Dashboard Admin visible
   âœ… [FASE 2] 2.3 Crear PerÃ­odo (Usando perÃ­odos existentes)
   âœ… [FASE 2] 2.4 Crear Materia (Usando materias existentes)
   âœ… [FASE 2] 2.5 Crear Profesor (profe_93197360@test.com)
   âœ… [FASE 2] 2.6 Crear Estudiante (estu_93197360@test.com)
   âœ… [FASE 2] 2.7 Crear Grupo (Usando grupos existentes)
   âœ… [FASE 2] 2.8 Acceder a Horarios (SecciÃ³n disponible)
   âœ… [FASE 2] 2.9 Verificar config notificaciones (Switch: âœ“, WhatsApp: âœ—, Instant: âœ—)
   âœ… [FASE 2] 2.10 Logout Admin
   âœ… [FASE 3] 3.A.1 Login Admin vÃ­a API (admin_93197360@test.com)
   âœ… [FASE 3] 3.A.2 Obtener estudiantes (995c198b-d544-4b03-89fc-ed80669c784e)
   âœ… [FASE 3] 3.A.3 Obtener/Crear horarios (de97e12a-6c85-4871-9116-151fcb53dfd5)
   âœ… [FASE 3] 3.A.4 Registrar asistencia vÃ­a API (AUSENTE registrado - NotificaciÃ³n disparada)
   âœ… [FASE 3] 3.A.5 Espera de notificaciÃ³n (Canal: WHATSAPP, Modo: INSTANT)
   âœ… [FASE 3] 3.B.1 Login Profesor (profe_93197360@test.com)
   âœ… [FASE 3] 3.B.2 Profesor ve dashboard con clases
   âœ… [FASE 3] 3.B.3 Entrar a gestiÃ³n de asistencia (Ya registrada vÃ­a API)
   âœ… [FASE 3] 3.B.4 GestiÃ³n de asistencia (Dashboard visible)
   âœ… [FASE 3] 3.B.5 NotificaciÃ³n WhatsApp (Disparada a +573103816321)
   âœ… [FASE 3] 3.B.6 Logout Profesor
   âœ… [FASE 4] 4.1 Login Estudiante (estu_93197360@test.com)
   âœ… [FASE 4] 4.2 Estudiante ve su dashboard
   âœ… [FASE 4] 4.3 Estudiante ve su cÃ³digo QR
   âœ… [FASE 4] 4.4 Estudiante ve historial de asistencia (Materia: âœ—, Presente: âœ“)
   âœ… [FASE 4] 4.5 Verificar secciÃ³n notificaciones (NotificaciÃ³n de asistencia visible)
   âœ… [FASE 4] 4.6 Preferencias de notificaciÃ³n estudiante (Preferencias accesibles)
   âœ… [FASE 4] 4.7 Logout Estudiante
   âœ… [FASE 5] 5.1 Login Admin para configurar MANUAL (admin_93197360@test.com)
   âœ… [FASE 5] 5.1c Actualizar config via API (MANUAL_ONLY)
   âœ… [FASE 5] 5.1e Logout Admin
   âœ… [FASE 5] 5.3 Login Profesor para enviar manualmente (profe_93197360@test.com)
   âŒ [FASE 5] 5.3 Ver botÃ³n manual visible (BotÃ³n not found (entered: false))
   âœ… [FASE 5] 5.3e Logout Profesor
   âœ… [FASE 5] 5.4 Obtener token admin para verificar logs
   âŒ [FASE 5] 5.4 Verificar recepciÃ³n manual (API logs) (No hay log exitoso)
======================================================================


âš ï¸ FLUJO COMPLETADO CON 2 PASOS FALLIDOS
   ğŸ“‹ Revisar los pasos marcados con âŒ arriba
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following TestFailure was thrown running a test:
Expected: <0>
  Actual: <2>
El micro-universo debe completarse al 100% sin fallbacks

When the exception was thrown, this was the stack:
#4      main.<anonymous closure> (file:///C:/Proyectos/DemoLife/integration_test/main_e2e_test.dart:2644:5)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:189:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1027:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///C:/Proyectos/DemoLife/integration_test/main_e2e_test.dart line 2644
The test description was:
  ğŸš€ FLUJO E2E TRANSACCIONAL - MICRO-UNIVERSO AISLADO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
08:25 +0 -1: ğŸš€ FLUJO E2E TRANSACCIONAL - MICRO-UNIVERSO AISLADO [E]
  Test failed. See exception logs above.
  The test description was: ğŸš€ FLUJO E2E TRANSACCIONAL - MICRO-UNIVERSO AISLADO
  
08:25 +0 -1: (tearDownAll)
08:25 +0 -1: Some tests failed.
