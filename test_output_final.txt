00:00 +0: loading C:/Proyectos/DemoLife/integration_test/main_e2e_test.dart
Building Windows application...                                    67,3s
âˆš Built build\windows\x64\runner\Debug\asistapp.exe
00:00 +0: ğŸš€ FLUJO E2E TRANSACCIONAL - MICRO-UNIVERSO AISLADO

======================================================================
ğŸ¯ INICIANDO TEST E2E TRANSACCIONAL - MICRO-UNIVERSO AISLADO
   Timestamp Ãºnico: 99404208
   DÃ­a de hoy (UTC): Viernes (5)
   Hora actual (UTC): 1:50
   Horario a crear: 01:00 - 02:00

   ğŸ“¦ DATOS ÃšNICOS A CREAR:
   â€¢ InstituciÃ³n: Instituto 99404208
   â€¢ Admin: admin_99404208@test.com
   â€¢ Profesor: profe_99404208@test.com
   â€¢ Estudiante: estu_99404208@test.com
   â€¢ PerÃ­odo: Periodo 99404208
   â€¢ Materia: Materia 99404208
   â€¢ Grupo: Grupo 99404208

   âš ï¸ MODO ESTRICTO: Sin fallbacks al seed
======================================================================

AppConfig: No se pudo cargar .env: Instance of 'FileNotFoundError'
AppConfig: Rutas intentadas para .env (muestra hasta 30):
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\Debug\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
AppConfig: Usando configuraciÃ³n por defecto
  - API_BASE_URL: http://192.168.20.22:3000
  - ENVIRONMENT: development
  - Plataforma: windows

ğŸ“ FASE 1: GÃ‰NESIS (Super Admin crea InstituciÃ³n + Admin)

AuthService.login - URL: http://192.168.20.22:3000/auth/login
AuthService.login - Config Base URL: http://192.168.20.22:3000
ğŸ“¤ POST /auth/login
ğŸ“¡ HTTP 200 /auth/login
   Status: 200
   Body: {"success":true,"data":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjFhNTE4NzI5LTk4NWYtNDQ2Ny05MDM0LWJhYzFkMjBiMTY5MSIsInJvbCI6InN1cGVyX2FkbWluIiwiZW1haWwiOiJzdXBlcmFkbWluQGFzaXN0YXBwLmNvbSIsInRva2VuVmVyc2lvbiI6MSwiaWF0IjoxNzY0ODk5NDUwLCJleHAiOjE3NjQ5ODU4NTB9.MCx751WhsoMNj_qZVOZ2_NEeZKusykC75VNHH6DAFp8","refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjFhNTE4NzI5LTk4NWYtNDQ2Ny05MDM0LWJhYzFkMjBiMTY5MSIsInJvbCI6InN1cGVyX2FkbWluIiwiZW1haWwiOiJzdXBlcmFkbWluQGFzaXN0YXBwLmNvbSIsInRva2VuVmVyc2lvbiI6MSwianRpIjoiNTQzYWNmNzMtOTY2ZS00ODA3LWIxNGQtMmNiNjZjYTg2YmEyIiwiaWF0IjoxNzY0ODk5NDUwLCJleHAiOjE3NjU1MDQyNTB9.1CmdpvrP0rKM9onHurj2Gurz1Ej2Nd-ydThhF-BYnjI","expiresIn":24,"usuario":{"id":"1a518729-985f-4467-9034-bac1d20b1691","nombres":"Super","apellidos":"Administrador","rol":"super_admin","instituciones":[]}}}
========================================
ğŸ“¤ GET /auth/institutions
ğŸ“¡ HTTP 200 /auth/institutions
Super Admin: No requiere selecciÃ³n de instituciÃ³n (acceso global)
Login exitoso, AuthWrapper manejarÃ¡ la navegaciÃ³n
UserProvider: Iniciando carga de usuarios...
VersiÃ³n obtenida del pubspec: 1.0.11
GET /usuarios - Status: 200
InstitutionProvider: Iniciando carga de instituciones...
GET /instituciones - Status: 200
GET /instituciones - data[0]: {id: d833cf07-1c12-43bc-9a17-3272ce6c2f42, nombre: Instituto 98617251, direccion: Calle Test 123, telefono: 555-98617251, email: test_98617251@test.edu, activa: true, createdAt: 2025-12-05T01:38:40.239Z, updatedAt: 2025-12-05T01:38:40.239Z}
InstitutionProvider: Estado cambiado a loaded
  âœ… [FASE 1] 1.1 Login Super Admin
Cargando instituciones con token: eyJhbGciOiJIUzI1NiIs...
InstitutionProvider: Iniciando carga de instituciones...
GET /instituciones - Status: 200
GET /instituciones - data[0]: {id: d833cf07-1c12-43bc-9a17-3272ce6c2f42, nombre: Instituto 98617251, direccion: Calle Test 123, telefono: 555-98617251, email: test_98617251@test.edu, activa: true, createdAt: 2025-12-05T01:38:40.239Z, updatedAt: 2025-12-05T01:38:40.239Z}
InstitutionProvider: Estado cambiado a loaded
Instituciones cargadas: 5
Estado del provider: isLoading=false, hasError=false
  âœ… [FASE 1] 1.2 Navegar a Instituciones
    ğŸ“± [NOTIFICACIONES] Configurando notificaciones del micro-universo...
  âœ… [FASE 1] 1.3a SecciÃ³n Notificaciones visible
    ğŸ“± [NOTIFICACIONES] Encontrados 2 switches
    ğŸ“± [NOTIFICACIONES] Estado inicial switch notificaciones: false
  âœ… [FASE 1] 1.3b Activar notificaciones
    ğŸ“± [NOTIFICACIONES] Dropdowns encontrados: 2
  âœ… [FASE 1] 1.3c Seleccionar canal WhatsApp
  âœ… [FASE 1] 1.3d Seleccionar modo InstantÃ¡neo
    ğŸ“± [NOTIFICACIONES] Resumen configuraciÃ³n:
       â€¢ Activas: true
       â€¢ Canal: WHATSAPP
       â€¢ Modo: INSTANT
POST /instituciones - Status: 201
PUT http://192.168.20.22:3000/api/institutions/73415e64-e4fe-489e-a3d3-08ffd10bc098/notification-config - Status: 200
GET /instituciones/73415e64-e4fe-489e-a3d3-08ffd10bc098 - Status: 200
GET /instituciones/73415e64-e4fe-489e-a3d3-08ffd10bc098 - data: {id: 73415e64-e4fe-489e-a3d3-08ffd10bc098, nombre: Instituto 99404208, direccion: Calle Test 123, telefono: 555-99404208, email: test_99404208@test.edu, activa: true, configuraciones: {notificacionesActivas: true, canalNotificacion: WHATSAPP, modoNotificacionAsistencia: INSTANT, horaDisparoNotificacion: null, umbralFaltas: 3}, createdAt: 2025-12-05T01:51:44.597Z, updatedAt: 2025-12-05T01:51:44.597Z}
InstitutionProvider: loadInstitutionById - fetched: Institution(id: 73415e64-e4fe-489e-a3d3-08ffd10bc098, nombre: Instituto 99404208, activa: true)
  âœ… [FASE 1] 1.3 Crear InstituciÃ³n (Instituto 99404208)
Cargando usuarios (admin_institucion y super_admin) como super_admin...
UserProvider: Iniciando carga de usuarios...
GET /usuarios - Status: 200
  âœ… [FASE 1] 1.4 Navegar a gestiÃ³n de usuarios
    ğŸ“ [DEBUG] Iniciando creaciÃ³n de Admin InstituciÃ³n...
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
    ğŸ“ [DEBUG] SpeedDial tapado: true
    ğŸ“ [STEP 1] InformaciÃ³n de Cuenta
    ğŸ“ [STEP 1] TextFormFields encontrados: 6
    ğŸ“ [STEP 1] Campo email encontrado, llenando: admin_99404208@test.com
    ğŸ“ [STEP 1] Seleccionando instituciÃ³n: Instituto 99404208
       ğŸ“¦ [selectInstitutionFromModal] Iniciando para: Instituto 99404208
       ğŸ“¦ [selectInstitutionFromModal] Campo instituciÃ³n encontrado, haciendo tap...
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
       ğŸ“¦ [selectInstitutionFromModal] BottomSheets encontrados: 1
       ğŸ“¦ [selectInstitutionFromModal] CheckboxListTiles encontrados: 5
       ğŸ“¦ [selectInstitutionFromModal] Textos que contienen "Instituto 99404208": 1
       ğŸ“¦ [selectInstitutionFromModal] Encontrado! Haciendo tap...
       ğŸ“¦ [selectInstitutionFromModal] Botones "Confirmar selecciÃ³n": 1
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
       âœ… [selectInstitutionFromModal] Confirmado!
    ğŸ“ [STEP 1] InstituciÃ³n seleccionada: true
    ğŸ“ [STEP 1] Avanzando a Step 2...
    ğŸ“ [STEP 1] Botones formSaveButton encontrados: 2
ğŸ”” _onStepContinue CALLED! currentStep=0
ğŸ”” totalSteps=2
ğŸ”” stepState for step 0: FormState#73a13
ğŸ”” validation result: true
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
    ğŸ“ [STEP 2] InformaciÃ³n Personal
    ğŸ“ [STEP 2] TextFormFields ahora: 6
    ğŸ“ [STEP 2] Step widgets encontrados: 0
    ğŸ“ [STEP 2] Textos "Info Personal" encontrados: 1
    ğŸ“ [STEP 2] Campo nombres encontrado: true
    ğŸ“ [STEP 2] Campo apellidos encontrado: true
    ğŸ“ [STEP 2] Campo nombres encontrado por Key
    ğŸ“ [STEP 2] Texto ingresado en nombres: Admin 99404208
    ğŸ“ [STEP 2] Campo apellidos encontrado por Key
    ğŸ“ [STEP 2] Texto ingresado en apellidos: TestApellido
    ğŸ“ [STEP 2] Datos personales llenados
    ğŸ“ [STEP 2] Buscando botÃ³n de guardar (Crear)...
    ğŸ“ [STEP 2] Botones con texto "Crear" encontrados: 2
ğŸ”” _onStepContinue CALLED! currentStep=1
ğŸ”” totalSteps=2
ğŸ”” stepState for step 1: FormState#f41be
ğŸ”” validation result: true
    ğŸ“ [STEP 2] BotÃ³n "Crear" tapado (usando last), esperando respuesta del servidor...
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
POST /usuarios - Status: 201
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
    ğŸ“ [STEP 2] Textos "ContraseÃ±a" encontrados: 1
    ğŸ”‘ ContraseÃ±a capturada exitosamente: &MsYeHJU8sKd
UserFormScreen: sessionRole=super_admin, userRole=admin_institucion, isSelfEditing=false, canEditInstitutions=true
  âœ… [FASE 1] 1.5 Crear Admin InstituciÃ³n (admin_99404208@test.com)
ğŸ“¤ POST /auth/logout
ğŸ“¡ HTTP 404 /auth/logout
AppConfig: No se pudo cargar .env: Instance of 'FileNotFoundError'
AppConfig: Rutas intentadas para .env (muestra hasta 30):
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\Debug\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
AppConfig: Usando configuraciÃ³n por defecto
  - API_BASE_URL: http://192.168.20.22:3000
  - ENVIRONMENT: development
  - Plataforma: windows
  âœ… [FASE 1] 1.6 Logout Super Admin

ğŸ“ FASE 2: ESTRUCTURA (Admin crea PerÃ­odo, Materia, Profesor, Estudiante, Grupo, Horario)

AuthService.login - URL: http://192.168.20.22:3000/auth/login
AuthService.login - Config Base URL: http://192.168.20.22:3000
ğŸ“¤ POST /auth/login
ğŸ“¡ HTTP 200 /auth/login
   Status: 200
   Body: {"success":true,"data":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjNkODA3MzVlLWVjMjktNGY4Zi1hNTNlLTdhZTlhNzBlMDQwMSIsInJvbCI6ImFkbWluX2luc3RpdHVjaW9uIiwiZW1haWwiOiJhZG1pbl85OTQwNDIwOEB0ZXN0LmNvbSIsInRva2VuVmVyc2lvbiI6MSwiaWF0IjoxNzY0ODk5NTY1LCJleHAiOjE3NjQ5ODU5NjV9.BtmzTr6HeRxG2OLU7oywMU6YJy9VLgq8Jca_-dM8lF8","refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjNkODA3MzVlLWVjMjktNGY4Zi1hNTNlLTdhZTlhNzBlMDQwMSIsInJvbCI6ImFkbWluX2luc3RpdHVjaW9uIiwiZW1haWwiOiJhZG1pbl85OTQwNDIwOEB0ZXN0LmNvbSIsInRva2VuVmVyc2lvbiI6MSwianRpIjoiYjI1YzJjYmYtZGJiYy00ZjRhLWJhOGEtYWE5Nzk4ZDZkZTY5IiwiaWF0IjoxNzY0ODk5NTY1LCJleHAiOjE3NjU1MDQzNjV9.k4xckmnNP438Cdk6q1FdEK2F1iKxexjhICYwnX_FPEo","expiresIn":24,"usuario":{"id":"3d80735e-ec29-4f8f-a53e-7ae9a70e0401","nombres":"Admin 99404208","apellidos":"TestApellido","rol":"admin_institucion","instituciones":[{"id":"73415e64-e4fe-489e-a3d3-08ffd10bc098","nombre":"Instituto 99404208","rolEnInstitucion":"admin"}]}}}
========================================
ğŸ“¤ GET /auth/institutions
ğŸ“¡ HTTP 200 /auth/institutions
InstituciÃ³n seleccionada automÃ¡ticamente: 73415e64-e4fe-489e-a3d3-08ffd10bc098
Login exitoso, AuthWrapper manejarÃ¡ la navegaciÃ³n
UserProvider: Iniciando carga de usuarios por instituciÃ³n 73415e64-e4fe-489e-a3d3-08ffd10bc098...
VersiÃ³n obtenida del pubspec: 1.0.11
GET /usuarios/institucion/73415e64-e4fe-489e-a3d3-08ffd10bc098 - Status: 200
  âœ… [FASE 2] 2.1 Login Admin (admin_99404208@test.com)
  âœ… [FASE 2] 2.2 Dashboard Admin visible
  âœ… [FASE 2] 2.3 Crear PerÃ­odo (Usando perÃ­odos existentes)
  âœ… [FASE 2] 2.4 Crear Materia (Usando materias existentes)
Cargando usuarios para la instituciÃ³n: 73415e64-e4fe-489e-a3d3-08ffd10bc098
UserProvider: Iniciando carga de usuarios por instituciÃ³n 73415e64-e4fe-489e-a3d3-08ffd10bc098...
GET /usuarios/institucion/73415e64-e4fe-489e-a3d3-08ffd10bc098 - Status: 200
    ğŸ“ [DEBUG] Iniciando creaciÃ³n de Profesor...
UserFormScreen: sessionRole=admin_institucion, userRole=profesor, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=admin_institucion, userRole=profesor, isSelfEditing=false, canEditInstitutions=true
    ğŸ“ [DEBUG] SpeedDial tapado: true
    ğŸ“ [PROF STEP 1] InformaciÃ³n de Cuenta
    ğŸ“ [PROF STEP 1] Total TextFormFields: 7
    ğŸ“ [PROF STEP 1] Textos con "requerido" visibles: 0
    ğŸ“ [PROF STEP 1] Campo email encontrado, llenando: profe_99404208@test.com
    ğŸ“ [PROF STEP 1] Avanzando a Step 2...
    ğŸ“ [PROF STEP 1] Total ElevatedButtons: 3
       ElevatedButton[0]: "Siguiente", onPressed=enabled
       ElevatedButton[1]: "Siguiente", onPressed=enabled
       ElevatedButton[2]: "Siguiente", onPressed=enabled
    ğŸ“ [PROF STEP 1] Botones habilitados: 3, primer habilitado en Ã­ndice: 0
ğŸ”” _onStepContinue CALLED! currentStep=0
ğŸ”” totalSteps=3
ğŸ”” stepState for step 0: FormState#328d1
ğŸ”” validation result: true
UserFormScreen: sessionRole=admin_institucion, userRole=profesor, isSelfEditing=false, canEditInstitutions=true
    ğŸ“ [PROF STEP 1 AFTER TAP] Siguiente: 3, Crear: 0
    ğŸ“ [PROF STEP 2] InformaciÃ³n Personal
    ğŸ“ [PROF STEP 2] CustomTextFormField Nombres: 1
    ğŸ“ [PROF STEP 2] CustomTextFormField Apellidos: 1
    ğŸ“ [PROF STEP 2] TextField Nombres: 1
    ğŸ“ [PROF STEP 2] TextField Apellidos: 1
    ğŸ“ [PROF STEP 2] Scroll + Tap en Nombres...
    ğŸ“ [PROF STEP 2] enterText: Profesor 99404208
    ğŸ“ [PROF STEP 2] Texto en EditableText Nombres: "Profesor 99404208"
    ğŸ“ [PROF STEP 2] Scroll + Tap en Apellidos...
    ğŸ“ [PROF STEP 2] enterText: TestProf
    ğŸ“ [PROF STEP 2] Texto en EditableText Apellidos: "TestProf"
    ğŸ“ [PROF STEP 2] Campo IdentificaciÃ³n encontrado por Key
    ğŸ“ [PROF STEP 2] enterText IdentificaciÃ³n: DOC99404208
    ğŸ“ [PROF STEP 2] Datos ingresados (nombres, apellidos, identificaciÃ³n)
    ğŸ“ [PROF STEP 2] Avanzando a Step 3...
    ğŸ“ [PROF STEP 2] Botones Siguiente: 3, Crear: 0
ğŸ”” _onStepContinue CALLED! currentStep=1
ğŸ”” totalSteps=3
ğŸ”” stepState for step 1: FormState#07155
ğŸ”” validation result: true
UserFormScreen: sessionRole=admin_institucion, userRole=profesor, isSelfEditing=false, canEditInstitutions=true
    ğŸ“ [PROF STEP 3] Datos AcadÃ©micos
    ğŸ“ [PROF STEP 3] TextFormFields totales: 7
    ğŸ“ [PROF STEP 3] Campo tÃ­tulo: 1
    ğŸ“ [PROF STEP 3] Campo especialidad: 1
    ğŸ“ [PROF STEP 3] Buscando botÃ³n para guardar...
    ğŸ“ [PROF STEP 3] Total ElevatedButtons: 3
       ElevatedButton[0]: "Crear"
       ElevatedButton[1]: "Crear"
       ElevatedButton[2]: "Crear"
    ğŸ“ [PROF STEP 3] Botones "Crear": 3, "Siguiente": 0
ğŸ”” _onStepContinue CALLED! currentStep=2
ğŸ”” totalSteps=3
ğŸ”” stepState for step 2: FormState#f9e2c
ğŸ”” validation result: true
    ğŸ“ [PROF STEP 3] BotÃ³n "Crear" tapado, esperando...
UserFormScreen: sessionRole=admin_institucion, userRole=profesor, isSelfEditing=false, canEditInstitutions=true
POST /usuarios - Status: 201
UserFormScreen: sessionRole=admin_institucion, userRole=profesor, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=admin_institucion, userRole=profesor, isSelfEditing=false, canEditInstitutions=true
    ğŸ”‘ ContraseÃ±a capturada exitosamente: QsziWF8wbtKV
UserFormScreen: sessionRole=admin_institucion, userRole=profesor, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=admin_institucion, userRole=profesor, isSelfEditing=false, canEditInstitutions=true
  âœ… [FASE 2] 2.5 Crear Profesor (profe_99404208@test.com)
    ğŸ“ [DEBUG] Iniciando creaciÃ³n de Estudiante...
UserFormScreen: sessionRole=admin_institucion, userRole=estudiante, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=admin_institucion, userRole=estudiante, isSelfEditing=false, canEditInstitutions=true
    ğŸ“ [DEBUG] SpeedDial tapado: true
    ğŸ“ [EST STEP 1] InformaciÃ³n de Cuenta
    ğŸ“ [EST STEP 1] Campo email encontrado, llenando: estu_99404208@test.com
    ğŸ“ [EST STEP 1] Avanzando a Step 2...
    ğŸ“ [EST STEP 1] Botones formSaveButton: 3
ğŸ”” _onStepContinue CALLED! currentStep=0
ğŸ”” totalSteps=3
ğŸ”” stepState for step 0: FormState#ca342
ğŸ”” validation result: true
UserFormScreen: sessionRole=admin_institucion, userRole=estudiante, isSelfEditing=false, canEditInstitutions=true
    ğŸ“ [EST STEP 2] InformaciÃ³n Personal
    ğŸ“ [EST STEP 2] Campo nombres: true
    ğŸ“ [EST STEP 2] Campo apellidos: true
    ğŸ“ [EST STEP 2] enterText Nombres: Estudiante 99404208
    ğŸ“ [EST STEP 2] enterText Apellidos: TestEst
    ğŸ“ [EST STEP 2] Campo IdentificaciÃ³n encontrado
    ğŸ“ [EST STEP 2] enterText IdentificaciÃ³n: EST99404208
    ğŸ“ [EST STEP 2] Avanzando a Step 3...
    ğŸ“ [EST STEP 2] Botones Siguiente: 3
ğŸ”” _onStepContinue CALLED! currentStep=1
ğŸ”” totalSteps=3
ğŸ”” stepState for step 1: FormState#3bec0
ğŸ”” validation result: true
UserFormScreen: sessionRole=admin_institucion, userRole=estudiante, isSelfEditing=false, canEditInstitutions=true
    ğŸ“ [EST STEP 3] Datos del Responsable (opcionales)
    ğŸ“ [EST STEP 3] Campo responsable: 1
    ğŸ“ [EST STEP 3] Campo telÃ©fono: 1
    ğŸ“± [NOTIF] TelÃ©fono WhatsApp configurado: +573103816321
    ğŸ“ [EST STEP 3] Buscando botÃ³n "Crear"...
    ğŸ“ [EST STEP 3] Botones "Crear": 3
ğŸ”” _onStepContinue CALLED! currentStep=2
ğŸ”” totalSteps=3
ğŸ”” stepState for step 2: FormState#2fd1b
ğŸ”” validation result: true
    ğŸ“ [EST STEP 3] BotÃ³n "Crear" tapado, esperando...
UserFormScreen: sessionRole=admin_institucion, userRole=estudiante, isSelfEditing=false, canEditInstitutions=true
POST /usuarios - Status: 201
UserFormScreen: sessionRole=admin_institucion, userRole=estudiante, isSelfEditing=false, canEditInstitutions=true
UserFormScreen: sessionRole=admin_institucion, userRole=estudiante, isSelfEditing=false, canEditInstitutions=true
    ğŸ”‘ ContraseÃ±a capturada exitosamente: S2oS6za6I&EF
UserFormScreen: sessionRole=admin_institucion, userRole=estudiante, isSelfEditing=false, canEditInstitutions=true
  âœ… [FASE 2] 2.6 Crear Estudiante (estu_99404208@test.com)
  âœ… [FASE 2] 2.7 Crear Grupo (Usando grupos existentes)
  âœ… [FASE 2] 2.8 Acceder a Horarios (SecciÃ³n disponible)
    ğŸ“± [NOTIFICACIONES] Verificando configuraciÃ³n guardada...
  âœ… [FASE 2] 2.9 Verificar config notificaciones (Switch: âœ“, WhatsApp: âœ—, Instant: âœ—)
UserProvider: Iniciando carga de usuarios por instituciÃ³n 73415e64-e4fe-489e-a3d3-08ffd10bc098...
GET /usuarios/institucion/73415e64-e4fe-489e-a3d3-08ffd10bc098 - Status: 200
ğŸ“¤ POST /auth/logout
ğŸ“¡ HTTP 404 /auth/logout
AppConfig: No se pudo cargar .env: Instance of 'FileNotFoundError'
AppConfig: Rutas intentadas para .env (muestra hasta 30):
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\Debug\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
AppConfig: Usando configuraciÃ³n por defecto
  - API_BASE_URL: http://192.168.20.22:3000
  - ENVIRONMENT: development
  - Plataforma: windows
  âœ… [FASE 2] 2.10 Logout Admin

ğŸ“ FASE 3: OPERACIÃ“N (Toma de asistencia para disparar notificaciones)


  ğŸ“¡ SUB-FASE 3.A: Toma de asistencia vÃ­a API

  âœ… [FASE 3] 3.A.1 Login Admin vÃ­a API (admin_99404208@test.com)
    ğŸ“‹ Estudiante encontrado: estu_99404208@test.com (ID: 371bd5e6-c3fb-40fa-85a9-18566265afba)
  âœ… [FASE 3] 3.A.2 Obtener estudiantes (371bd5e6-c3fb-40fa-85a9-18566265afba)
    ğŸ“¡ Obteniendo/creando datos para horario...
    ğŸ“¡ Creando perÃ­odo vÃ­a API...
    âœ… PerÃ­odo creado: ID a76060a4-c9c1-49fa-9d4e-7e1e41fd3ade
    ğŸ“¡ Creando materia vÃ­a API...
    âœ… Materia creada: ID bc9e9051-4598-4ec3-b1f9-9a1b50bb9690
    ğŸ“¡ Creando grupo vÃ­a API...
    âœ… Grupo creado: ID 6962f5f7-0f0c-4852-ace3-d0db30c4e69d
    ğŸ“¡ Asignando estudiante al grupo...
    âœ… Estudiante asignado al grupo
    ğŸ‘¨â€ğŸ« Profesor encontrado: profe_99404208@test.com (ID: cd8efb51-31e0-473a-824a-2989081aa2a9)
    ğŸ“¡ Creando horario vÃ­a API (no existen horarios)...
       â€¢ Payload: {periodoId: a76060a4-c9c1-49fa-9d4e-7e1e41fd3ade, grupoId: 6962f5f7-0f0c-4852-ace3-d0db30c4e69d, materiaId: bc9e9051-4598-4ec3-b1f9-9a1b50bb9690, profesorId: cd8efb51-31e0-473a-824a-2989081aa2a9, diaSemana: 5, horaInicio: 01:00, horaFin: 02:00}
    âœ… Horario creado: ID ff7df96e-3daf-4a09-9ece-57c849658a1d
  âœ… [FASE 3] 3.A.3 Obtener/Crear horarios (ff7df96e-3daf-4a09-9ece-57c849658a1d)
    ğŸ“¡ Registrando asistencia vÃ­a API...
       â€¢ Estudiante ID: 371bd5e6-c3fb-40fa-85a9-18566265afba
       â€¢ Horario ID: ff7df96e-3daf-4a09-9ece-57c849658a1d
       â€¢ Fecha: 2025-12-04
    âœ… Asistencia registrada exitosamente
    ğŸ“± NotificaciÃ³n WhatsApp deberÃ­a haberse disparado (modo INSTANT)
  âœ… [FASE 3] 3.A.4 Registrar asistencia vÃ­a API (AUSENTE registrado - NotificaciÃ³n disparada)
    â³ Esperando 5 segundos para que se procese la notificaciÃ³n...
  âœ… [FASE 3] 3.A.5 Espera de notificaciÃ³n (Canal: WHATSAPP, Modo: INSTANT)

  ğŸ–¥ï¸ SUB-FASE 3.B: VerificaciÃ³n vÃ­a UI del profesor

AuthService.login - URL: http://192.168.20.22:3000/auth/login
AuthService.login - Config Base URL: http://192.168.20.22:3000
ğŸ“¤ POST /auth/login
ğŸ“¡ HTTP 200 /auth/login
   Status: 200
   Body: {"success":true,"data":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNkOGVmYjUxLTMxZTAtNDczYS04MjRhLTI5ODkwODFhYTJhOSIsInJvbCI6InByb2Zlc29yIiwiZW1haWwiOiJwcm9mZV85OTQwNDIwOEB0ZXN0LmNvbSIsInRva2VuVmVyc2lvbiI6MSwiaWF0IjoxNzY0ODk5Njk5LCJleHAiOjE3NjQ5ODYwOTl9.ODjUK8zR_WQudYxKdejmHbzfzCbGUzrCsj4Eg1DZ_aw","refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNkOGVmYjUxLTMxZTAtNDczYS04MjRhLTI5ODkwODFhYTJhOSIsInJvbCI6InByb2Zlc29yIiwiZW1haWwiOiJwcm9mZV85OTQwNDIwOEB0ZXN0LmNvbSIsInRva2VuVmVyc2lvbiI6MSwianRpIjoiZGVmZDA1NDEtYzhkYy00NGM3LWFlN2MtOGUwYTI2MjRlYTk4IiwiaWF0IjoxNzY0ODk5Njk5LCJleHAiOjE3NjU1MDQ0OTl9.XW9n9w7PyWynDo_ioLUSXcgY3MQLSqojhGijUsFAs7k","expiresIn":24,"usuario":{"id":"cd8efb51-31e0-473a-824a-2989081aa2a9","nombres":"Profesor 99404208","apellidos":"TestProf","rol":"profesor","instituciones":[{"id":"73415e64-e4fe-489e-a3d3-08ffd10bc098","nombre":"Instituto 99404208","rolEnInstitucion":"member"}]}}}
========================================
ğŸ“¤ GET /auth/institutions
ğŸ“¡ HTTP 200 /auth/institutions
InstituciÃ³n seleccionada automÃ¡ticamente: 73415e64-e4fe-489e-a3d3-08ffd10bc098
Login exitoso, AuthWrapper manejarÃ¡ la navegaciÃ³n
HorarioProvider: Cargando clases del dÃ­a para el profesor...
VersiÃ³n obtenida del pubspec: 1.0.11
GET /profesores/dashboard/clases-hoy - Status: 200
HorarioProvider: Recibidas 1 clases del dÃ­a
  âœ… [FASE 3] 3.B.1 Login Profesor (profe_99404208@test.com)
  âœ… [FASE 3] 3.B.2 Profesor ve dashboard con clases
AsistenciaProvider: Loading asistencias for horario: ff7df96e-3daf-4a09-9ece-57c849658a1d
GET /asistencias?horarioId=ff7df96e-3daf-4a09-9ece-57c849658a1d - Status: 200
âœ… Obtenidas 0 asistencias
AsistenciaProvider: Loaded 0 asistencias
  âœ… [FASE 3] 3.B.3 Entrar a gestiÃ³n de asistencia (Ya registrada vÃ­a API)
  âœ… [FASE 3] 3.B.4 Verificar asistencia registrada (Estado AUSENTE visible)

    ğŸ“± RESUMEN NOTIFICACIONES:
       â€¢ Asistencia registrada: âœ…
       â€¢ Canal configurado: WHATSAPP
       â€¢ Modo configurado: INSTANT
       â€¢ TelÃ©fono destino: +573103816321
       â€¢ NotificaciÃ³n esperada: SÃ (revisar logs backend)
  âœ… [FASE 3] 3.B.5 NotificaciÃ³n WhatsApp (Disparada a +573103816321)
ğŸ“¤ POST /auth/logout
ğŸ“¡ HTTP 404 /auth/logout
AppConfig: No se pudo cargar .env: Instance of 'FileNotFoundError'
AppConfig: Rutas intentadas para .env (muestra hasta 30):
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\Debug\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
AppConfig: Usando configuraciÃ³n por defecto
  - API_BASE_URL: http://192.168.20.22:3000
  - ENVIRONMENT: development
  - Plataforma: windows
  âœ… [FASE 3] 3.B.6 Logout Profesor

ğŸ“ FASE 4: CONSUMO (Estudiante verifica asistencia)

AuthService.login - URL: http://192.168.20.22:3000/auth/login
AuthService.login - Config Base URL: http://192.168.20.22:3000
ğŸ“¤ POST /auth/login
ğŸ“¡ HTTP 200 /auth/login
   Status: 200
   Body: {"success":true,"data":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjNkOTVjYjVlLTg5MTAtNDI1Yi1iYTAzLThiNmU3OTQxYWIzMiIsInJvbCI6ImVzdHVkaWFudGUiLCJlbWFpbCI6ImVzdHVfOTk0MDQyMDhAdGVzdC5jb20iLCJ0b2tlblZlcnNpb24iOjEsImlhdCI6MTc2NDg5OTc1OSwiZXhwIjoxNzY0OTg2MTU5fQ.gAYzO2Ua-Zt2DBrxW3z5G_fAGKQoqhzjaojKgFxxpeM","refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjNkOTVjYjVlLTg5MTAtNDI1Yi1iYTAzLThiNmU3OTQxYWIzMiIsInJvbCI6ImVzdHVkaWFudGUiLCJlbWFpbCI6ImVzdHVfOTk0MDQyMDhAdGVzdC5jb20iLCJ0b2tlblZlcnNpb24iOjEsImp0aSI6ImQzODEzMmNkLTc3MzEtNGJhYi1iZWIyLTkxYTdkMWMyOTYxMSIsImlhdCI6MTc2NDg5OTc1OSwiZXhwIjoxNzY1NTA0NTU5fQ.3JdClj5jnNS_J-cMhQjWbZ17ux8v9-wg8du8dTDhTf0","expiresIn":24,"usuario":{"id":"3d95cb5e-8910-425b-ba03-8b6e7941ab32","nombres":"Estudiante 99404208","apellidos":"TestEst","rol":"estudiante","instituciones":[{"id":"73415e64-e4fe-489e-a3d3-08ffd10bc098","nombre":"Instituto 99404208","rolEnInstitucion":"member"}]}}}
========================================
ğŸ“¤ GET /auth/institutions
ğŸ“¡ HTTP 200 /auth/institutions
InstituciÃ³n seleccionada automÃ¡ticamente: 73415e64-e4fe-489e-a3d3-08ffd10bc098
Login exitoso, AuthWrapper manejarÃ¡ la navegaciÃ³n
VersiÃ³n obtenida del pubspec: 1.0.11
  âœ… [FASE 4] 4.1 Login Estudiante (estu_99404208@test.com)
  âœ… [FASE 4] 4.2 Estudiante ve su dashboard
GET /estudiantes/me - Status: 200
  âœ… [FASE 4] 4.3 Estudiante ve su cÃ³digo QR
  âœ… [FASE 4] 4.4 Estudiante ve historial de asistencia (Materia: âœ—, Presente: âœ“)
    ğŸ“± [NOTIFICACIONES] Verificando secciÃ³n de notificaciones del estudiante...
  âœ… [FASE 4] 4.5 Verificar secciÃ³n notificaciones (NotificaciÃ³n de asistencia visible)
  âœ… [FASE 4] 4.6 Preferencias de notificaciÃ³n estudiante (Preferencias accesibles)
ğŸ“¤ POST /auth/logout
ğŸ“¡ HTTP 404 /auth/logout
AppConfig: No se pudo cargar .env: Instance of 'FileNotFoundError'
AppConfig: Rutas intentadas para .env (muestra hasta 30):
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\Debug\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
AppConfig: Usando configuraciÃ³n por defecto
  - API_BASE_URL: http://192.168.20.22:3000
  - ENVIRONMENT: development
  - Plataforma: windows
  âœ… [FASE 4] 4.7 Logout Estudiante

ğŸ“ FASE 5: PRUEBA ADICIONAL - MODO MANUAL

AuthService.login - URL: http://192.168.20.22:3000/auth/login
AuthService.login - Config Base URL: http://192.168.20.22:3000
ğŸ“¤ POST /auth/login
ğŸ“¡ HTTP 200 /auth/login
   Status: 200
   Body: {"success":true,"data":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjNkODA3MzVlLWVjMjktNGY4Zi1hNTNlLTdhZTlhNzBlMDQwMSIsInJvbCI6ImFkbWluX2luc3RpdHVjaW9uIiwiZW1haWwiOiJhZG1pbl85OTQwNDIwOEB0ZXN0LmNvbSIsInRva2VuVmVyc2lvbiI6MSwiaWF0IjoxNzY0ODk5ODQyLCJleHAiOjE3NjQ5ODYyNDJ9.YM06AMK2fvaYf-aH6oWO88E3hYOGqJ-C4iOebM1mwWY","refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjNkODA3MzVlLWVjMjktNGY4Zi1hNTNlLTdhZTlhNzBlMDQwMSIsInJvbCI6ImFkbWluX2luc3RpdHVjaW9uIiwiZW1haWwiOiJhZG1pbl85OTQwNDIwOEB0ZXN0LmNvbSIsInRva2VuVmVyc2lvbiI6MSwianRpIjoiNjc4NDFmZjAtMTE1ZC00OTIwLTllZGMtZDc0MzUyZmQ0NmVhIiwiaWF0IjoxNzY0ODk5ODQyLCJleHAiOjE3NjU1MDQ2NDJ9.ueeUh6HJdz0RuOJmZL7bq9q7GDYo82n-RBKvuZVjtx8","expiresIn":24,"usuario":{"id":"3d80735e-ec29-4f8f-a53e-7ae9a70e0401","nombres":"Admin 99404208","apellidos":"TestApellido","rol":"admin_institucion","instituciones":[{"id":"73415e64-e4fe-489e-a3d3-08ffd10bc098","nombre":"Instituto 99404208","rolEnInstitucion":"admin"}]}}}
========================================
ğŸ“¤ GET /auth/institutions
ğŸ“¡ HTTP 200 /auth/institutions
InstituciÃ³n seleccionada automÃ¡ticamente: 73415e64-e4fe-489e-a3d3-08ffd10bc098
Login exitoso, AuthWrapper manejarÃ¡ la navegaciÃ³n
UserProvider: Iniciando carga de usuarios por instituciÃ³n 73415e64-e4fe-489e-a3d3-08ffd10bc098...
VersiÃ³n obtenida del pubspec: 1.0.11
GET /usuarios/institucion/73415e64-e4fe-489e-a3d3-08ffd10bc098 - Status: 200
  âœ… [FASE 5] 5.1 Login Admin para configurar MANUAL (admin_99404208@test.com)
  âœ… [FASE 5] 5.1c Actualizar config via API (MANUAL_ONLY)
ğŸ“¤ POST /auth/logout
ğŸ“¡ HTTP 404 /auth/logout
AppConfig: No se pudo cargar .env: Instance of 'FileNotFoundError'
AppConfig: Rutas intentadas para .env (muestra hasta 30):
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\Debug\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
AppConfig: Usando configuraciÃ³n por defecto
  - API_BASE_URL: http://192.168.20.22:3000
  - ENVIRONMENT: development
  - Plataforma: windows
  âœ… [FASE 5] 5.1e Logout Admin
    ğŸ“¡ Registrando asistencia vÃ­a API (MANUAL_ONLY)...
    âš ï¸ API POST /asistencias/registrar-manual: 400 - {"success":false,"message":"El estudiante ya tiene registrada su asistencia para esta clase hoy","error":"ValidationError"}
    âš ï¸ Error al registrar asistencia vÃ­a API (MANUAL_ONLY)
AuthService.login - URL: http://192.168.20.22:3000/auth/login
AuthService.login - Config Base URL: http://192.168.20.22:3000
ğŸ“¤ POST /auth/login
ğŸ“¡ HTTP 200 /auth/login
   Status: 200
   Body: {"success":true,"data":{"accessToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNkOGVmYjUxLTMxZTAtNDczYS04MjRhLTI5ODkwODFhYTJhOSIsInJvbCI6InByb2Zlc29yIiwiZW1haWwiOiJwcm9mZV85OTQwNDIwOEB0ZXN0LmNvbSIsInRva2VuVmVyc2lvbiI6MSwiaWF0IjoxNzY0ODk5ODgxLCJleHAiOjE3NjQ5ODYyODF9.AS19UkqfROgv4Hgp4PDM3WoDRzL8D9XwNiPoVNxk4gQ","refreshToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6ImNkOGVmYjUxLTMxZTAtNDczYS04MjRhLTI5ODkwODFhYTJhOSIsInJvbCI6InByb2Zlc29yIiwiZW1haWwiOiJwcm9mZV85OTQwNDIwOEB0ZXN0LmNvbSIsInRva2VuVmVyc2lvbiI6MSwianRpIjoiZGU3YjIxZDktOWNlZS00YWJlLWJlNjItYWVjNjNiMTkyN2Y4IiwiaWF0IjoxNzY0ODk5ODgxLCJleHAiOjE3NjU1MDQ2ODF9.DTRJ8Hqjt445Kh--RnK5gdJgVejNF_MkuNLeMFEci-k","expiresIn":24,"usuario":{"id":"cd8efb51-31e0-473a-824a-2989081aa2a9","nombres":"Profesor 99404208","apellidos":"TestProf","rol":"profesor","instituciones":[{"id":"73415e64-e4fe-489e-a3d3-08ffd10bc098","nombre":"Instituto 99404208","rolEnInstitucion":"member"}]}}}
========================================
ğŸ“¤ GET /auth/institutions
ğŸ“¡ HTTP 200 /auth/institutions
InstituciÃ³n seleccionada automÃ¡ticamente: 73415e64-e4fe-489e-a3d3-08ffd10bc098
Login exitoso, AuthWrapper manejarÃ¡ la navegaciÃ³n
HorarioProvider: Cargando clases del dÃ­a para el profesor...
VersiÃ³n obtenida del pubspec: 1.0.11
GET /profesores/dashboard/clases-hoy - Status: 200
HorarioProvider: Recibidas 1 clases del dÃ­a
  âœ… [FASE 5] 5.3 Login Profesor para enviar manualmente (profe_99404208@test.com)
    ğŸ” [MANUAL] Buscando clase por materia: Materia Test 99404208
    ğŸ” [MANUAL] O por grupo: 1 A
AsistenciaProvider: Loading asistencias for horario: ff7df96e-3daf-4a09-9ece-57c849658a1d
GET /asistencias?horarioId=ff7df96e-3daf-4a09-9ece-57c849658a1d - Status: 200
âœ… Obtenidas 0 asistencias
AsistenciaProvider: Loaded 0 asistencias
    âœ… [MANUAL] Clase encontrada por materia
    ğŸ” [MANUAL] Buscando botÃ³n de notificaciÃ³n manual...
    ğŸ“Š [MANUAL] BotÃ³n por tooltip: 0, por icono: 0
    âš ï¸ [MANUAL] BotÃ³n no encontrado. Entramos a clase: true
    ğŸ“‹ [MANUAL] Textos visibles: Materia âœ“, Grupo âœ“
  âŒ [FASE 5] 5.3 Ver botÃ³n manual visible (BotÃ³n not found (entered: true))
ğŸ“¤ POST /auth/logout
ğŸ“¡ HTTP 404 /auth/logout
AppConfig: No se pudo cargar .env: Instance of 'FileNotFoundError'
AppConfig: Rutas intentadas para .env (muestra hasta 30):
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\Debug\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
  - C:\Proyectos\DemoLife\build\windows\x64\runner\.env
  - C:\Proyectos\DemoLife\build\windows\x64\.env
  - C:\Proyectos\DemoLife\build\windows\.env
  - C:\Proyectos\DemoLife\build\.env
  - C:\Proyectos\DemoLife\.env
AppConfig: Usando configuraciÃ³n por defecto
  - API_BASE_URL: http://192.168.20.22:3000
  - ENVIRONMENT: development
  - Plataforma: windows
  âœ… [FASE 5] 5.3e Logout Profesor
  âœ… [FASE 5] 5.4 Obtener token admin para verificar logs
    ğŸ“‹ [MANUAL] Logs response: OK
    ğŸ“‹ [MANUAL] Encontrados 0 logs de notificaciÃ³n
  âŒ [FASE 5] 5.4 Verificar recepciÃ³n manual (API logs) (No hay log exitoso)

======================================================================
ğŸ“Š RESUMEN DEL TEST E2E - MICRO-UNIVERSO AISLADO
======================================================================
   Total de pasos: 46
   âœ… Pasados: 44
   âŒ Fallidos: 2
   ğŸ“ˆ Porcentaje: 95.7%

ğŸ” CREDENCIALES CAPTURADAS:
   â€¢ admin: &Ms***
   â€¢ profesor: Qsz***
   â€¢ estudiante: S2o***

ğŸ“¦ DATOS CREADOS:
   â€¢ notificaciones_activas: true
   â€¢ canal_notificacion: WHATSAPP
   â€¢ modo_notificacion: MANUAL_ONLY
   â€¢ institucion: Instituto 99404208
   â€¢ admin_email: admin_99404208@test.com
   â€¢ admin_password: ***capturada***
   â€¢ profesor_email: profe_99404208@test.com
   â€¢ telefono_responsable: +573103816321
   â€¢ estudiante_email: estu_99404208@test.com
   â€¢ materia_nombre_real: Materia Test 99404208
   â€¢ grupo_nombre_completo: 1 A
   â€¢ asistencia_tomada: true
   â€¢ asistencia_id: created
   â€¢ notificacion_disparada: true

ğŸ“± RESUMEN DE NOTIFICACIONES:
   â€¢ Notificaciones: âœ… Activas
   â€¢ Canal: WHATSAPP
   â€¢ Modo: MANUAL_ONLY
   â€¢ Disparo: âœ… Verificado

ğŸ“‹ Detalle de resultados:
   âœ… [FASE 1] 1.1 Login Super Admin
   âœ… [FASE 1] 1.2 Navegar a Instituciones
   âœ… [FASE 1] 1.3a SecciÃ³n Notificaciones visible
   âœ… [FASE 1] 1.3b Activar notificaciones
   âœ… [FASE 1] 1.3c Seleccionar canal WhatsApp
   âœ… [FASE 1] 1.3d Seleccionar modo InstantÃ¡neo
   âœ… [FASE 1] 1.3 Crear InstituciÃ³n (Instituto 99404208)
   âœ… [FASE 1] 1.4 Navegar a gestiÃ³n de usuarios
   âœ… [FASE 1] 1.5 Crear Admin InstituciÃ³n (admin_99404208@test.com)
   âœ… [FASE 1] 1.6 Logout Super Admin
   âœ… [FASE 2] 2.1 Login Admin (admin_99404208@test.com)
   âœ… [FASE 2] 2.2 Dashboard Admin visible
   âœ… [FASE 2] 2.3 Crear PerÃ­odo (Usando perÃ­odos existentes)
   âœ… [FASE 2] 2.4 Crear Materia (Usando materias existentes)
   âœ… [FASE 2] 2.5 Crear Profesor (profe_99404208@test.com)
   âœ… [FASE 2] 2.6 Crear Estudiante (estu_99404208@test.com)
   âœ… [FASE 2] 2.7 Crear Grupo (Usando grupos existentes)
   âœ… [FASE 2] 2.8 Acceder a Horarios (SecciÃ³n disponible)
   âœ… [FASE 2] 2.9 Verificar config notificaciones (Switch: âœ“, WhatsApp: âœ—, Instant: âœ—)
   âœ… [FASE 2] 2.10 Logout Admin
   âœ… [FASE 3] 3.A.1 Login Admin vÃ­a API (admin_99404208@test.com)
   âœ… [FASE 3] 3.A.2 Obtener estudiantes (371bd5e6-c3fb-40fa-85a9-18566265afba)
   âœ… [FASE 3] 3.A.3 Obtener/Crear horarios (ff7df96e-3daf-4a09-9ece-57c849658a1d)
   âœ… [FASE 3] 3.A.4 Registrar asistencia vÃ­a API (AUSENTE registrado - NotificaciÃ³n disparada)
   âœ… [FASE 3] 3.A.5 Espera de notificaciÃ³n (Canal: WHATSAPP, Modo: INSTANT)
   âœ… [FASE 3] 3.B.1 Login Profesor (profe_99404208@test.com)
   âœ… [FASE 3] 3.B.2 Profesor ve dashboard con clases
   âœ… [FASE 3] 3.B.3 Entrar a gestiÃ³n de asistencia (Ya registrada vÃ­a API)
   âœ… [FASE 3] 3.B.4 Verificar asistencia registrada (Estado AUSENTE visible)
   âœ… [FASE 3] 3.B.5 NotificaciÃ³n WhatsApp (Disparada a +573103816321)
   âœ… [FASE 3] 3.B.6 Logout Profesor
   âœ… [FASE 4] 4.1 Login Estudiante (estu_99404208@test.com)
   âœ… [FASE 4] 4.2 Estudiante ve su dashboard
   âœ… [FASE 4] 4.3 Estudiante ve su cÃ³digo QR
   âœ… [FASE 4] 4.4 Estudiante ve historial de asistencia (Materia: âœ—, Presente: âœ“)
   âœ… [FASE 4] 4.5 Verificar secciÃ³n notificaciones (NotificaciÃ³n de asistencia visible)
   âœ… [FASE 4] 4.6 Preferencias de notificaciÃ³n estudiante (Preferencias accesibles)
   âœ… [FASE 4] 4.7 Logout Estudiante
   âœ… [FASE 5] 5.1 Login Admin para configurar MANUAL (admin_99404208@test.com)
   âœ… [FASE 5] 5.1c Actualizar config via API (MANUAL_ONLY)
   âœ… [FASE 5] 5.1e Logout Admin
   âœ… [FASE 5] 5.3 Login Profesor para enviar manualmente (profe_99404208@test.com)
   âŒ [FASE 5] 5.3 Ver botÃ³n manual visible (BotÃ³n not found (entered: true))
   âœ… [FASE 5] 5.3e Logout Profesor
   âœ… [FASE 5] 5.4 Obtener token admin para verificar logs
   âŒ [FASE 5] 5.4 Verificar recepciÃ³n manual (API logs) (No hay log exitoso)
======================================================================


âš ï¸ FLUJO COMPLETADO CON 2 PASOS FALLIDOS
   ğŸ“‹ Revisar los pasos marcados con âŒ arriba
â•â•â•¡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
The following TestFailure was thrown running a test:
Expected: <0>
  Actual: <2>
El micro-universo debe completarse al 100% sin fallbacks

When the exception was thrown, this was the stack:
#4      main.<anonymous closure> (file:///C:/Proyectos/DemoLife/integration_test/main_e2e_test.dart:2645:5)
<asynchronous suspension>
#5      testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:189:15)
<asynchronous suspension>
#6      TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1027:5)
<asynchronous suspension>
<asynchronous suspension>
(elided one frame from package:stack_trace)

This was caught by the test expectation on the following line:
  file:///C:/Proyectos/DemoLife/integration_test/main_e2e_test.dart line 2645
The test description was:
  ğŸš€ FLUJO E2E TRANSACCIONAL - MICRO-UNIVERSO AISLADO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
08:42 +0 -1: ğŸš€ FLUJO E2E TRANSACCIONAL - MICRO-UNIVERSO AISLADO [E]
  Test failed. See exception logs above.
  The test description was: ğŸš€ FLUJO E2E TRANSACCIONAL - MICRO-UNIVERSO AISLADO
  
08:42 +0 -1: (tearDownAll)
08:43 +0 -1: Some tests failed.
